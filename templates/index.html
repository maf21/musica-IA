{% extends "layout.html" %}
{% block body %}
<script src="http://www.midijs.net/lib/midi.js"></script>
<script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.22.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0"></script>
  <div class="row">
    <div class="col-md-5">
      {% with messages = get_flashed_messages()  %}
      {% if messages %}
      {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endfor %}
      {% endif %}
      {% endwith %}
      <div class="card card-body">
        <form action="{{url_for('contacts.add_contact')}}" method="POST">
          <div class="form-group">
            <input type="text" class="form-control" name="fullname" placeholder="FullName">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="email" placeholder="Email">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="phone" placeholder="Phone">
          </div>
          <button class="btn btn-primary btn-block">
            Save 
          </button>
        </form>
      </div>
    </div>
    <div class="col-md-7">
      <table class="table table-striped table-hover table-bordered table-sm bg-white">
        <thead>
          <tr>
            <td>ID</td>
            <td>fullname</td>
            <td>email</td>
            <td>phone</td>
            <td>Operations</td>
          </tr>
        </thead>
        <tbody>
          {% for contact in contacts %}
          <tr>
            <td>{{contact.id}}</td>
            <td>{{contact.fullname}}</td>
            <td>{{contact.email}}</td>
            <td>{{contact.phone}}</td>
            <td>
              <a href="/edit/{{contact.id}}" class="btn btn-secondary">edit</a>
              <a href="/delete/{{contact.id}}" class="btn btn-danger btn-delete">delete</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    
    <div class="col-md-7">
      <table class="table table-striped table-hover table-bordered table-sm bg-white">
        <thead>
          <tr>
            <!-- <td>ID</td>
            <td>fullname</td> -->
           
          </tr>
        </thead>
        <tbody>
          <a href="/gen" class="btn btn-secondary">gen</a>
          <!-- <div class="midiPlayer"><div class="positionControls"><input type="image" src="//cuthbertLab.github.io/music21j/webResources/midiPlayer/play.png" align="absmiddle" value="play" class="playPause"><input type="image" src="//cuthbertLab.github.io/music21j/webResources/midiPlayer/stop.png" align="absmiddle" value="stop" class="stopButton"></div><div class="timeControls"><span class="timePlayed">0:00</span><span class="capsule"><span class="cursor" style="width: 0%;"></span></span><span class="timeRemaining">-0:03</span></div></div>
           -->
         <!--  <div class="outputview" style="height: 66px;"><colab-dom-lifecycle-events></colab-dom-lifecycle-events><iframe allow="accelerometer; autoplay; camera; gyroscope; magnetometer; microphone; serial; usb; xr-spatial-tracking; clipboard-write" sandbox="allow-downloads allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-popups-to-escape-sandbox" src="https://7e1o5q6ha1s-496ff2e9c6d22116-0-colab.googleusercontent.com/outputframe.html?vrz=colab-20220906-060059-RC00_472423659" class="" style="height: 66px;"></iframe></div>
           -->
          
           <p>Midi 1</p>
          <midi-player
            src="/my_melody.mid"
            sound-font visualizer="#myVisualizer">
          </midi-player>
          <midi-visualizer type="piano-roll" id="myVisualizer"></midi-visualizer>
          

          <a href="../../app/my_melody.mid" target="_blank">Pincha aquí para oir mi música.</a>
          <!-- The following needs to be inserted somewhere on the page for the player(s) to work. -->
          <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.22.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0"></script>
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
